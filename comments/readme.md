This folder contains the "source code" for Auto Comments. Right now, the compiled files are intented to be used by the [AutoReviewComments](https://stackapps.com/questions/2116/autoreviewcomments-pro-forma-comments-for-se) userscript.

> In the future, we will migrate to a newer userscript. See https://github.com/SO-Close-Vote-Reviewers/socvr.org/issues/8

# First of all, WTF is JSON5?

There's two popular formats for human-editable data files - JSON and YAML. YAML attempts to be more readable (by humans) than JSON. YAML has less quotations and is indented. However, YAML introduces a signifigant number of overcomplexities that make it hard to work with, and that part about it being "indented" most of the time becomes quite the struggle.

[JSON5](https://json5.org/) is essentually a slighly easier-to-use JSON format that we're trying out. This is an experiment.

In a nutshell, you don't need quotes for "keys", and you can add comments. Otherwise, it's exactly like JSON.

# Format of comment files

First, the name of the file can really be whatever you want, as long as the extension is ".json5". By convention, we use the domain (+subdomain if it's important) of the site you want these comments to be applicable for.

The file needs to be an **array of objects**. Each object needs to have the following properties:

| Name  | Type   | Description                                                                                                                                                        |
|-------|--------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| type  | string | One of the following values (as seen in `generate-comment-files.js`): `question`, `answer`, `close reason`, `custom edit rejection`, `edit summary question` |
| title | string | A short summary of this comment. This is only shown to the UserScript user. This might support markdown but try to avoid it.                                       |
| body  | string | The actual canned comment. Use markdown syntax and other placeholders as described by the [Userscript documentation](https://github.com/Benjol/SE-AutoReviewComments?tab=readme-ov-file#features). |

An example:

```json5
// the syntax highlighting here might not be correct, as your markdown viewer might be
// assuming this is JSON instead of JSON5.
[
    {
        type: "question",
        title: "A sample question comment",
        body: "Hello [username]! This is a **bold** comment!
    }
]
```

# Compiling

The final jsonp files are generated by the `generate-comment-files.js` script, which is ran by the `build-comments` npm script. You can run this individually with

```bash
npm run build-comments
```

This script is also part of the "build everything" script, which will compile the HTML files and everything else.

```bash
npm run build
```

All the files will end up in the `/dist/comments` folder.
